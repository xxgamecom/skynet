# source file list
AUX_SOURCE_DIRECTORY("${SKYNET_ROOT_PATH}/skynet" SKYNET_SRC)
AUX_SOURCE_DIRECTORY("${SKYNET_ROOT_PATH}/skynet/log" SKYNET_LOG_SRC)
AUX_SOURCE_DIRECTORY("${SKYNET_ROOT_PATH}/skynet/utils" SKYNET_UTILS_SRC)
AUX_SOURCE_DIRECTORY("${SKYNET_ROOT_PATH}/skynet/context" SKYNET_CTX_SRC)
AUX_SOURCE_DIRECTORY("${SKYNET_ROOT_PATH}/skynet/mod" SKYNET_MOD_SRC)
AUX_SOURCE_DIRECTORY("${SKYNET_ROOT_PATH}/skynet/mq" SKYNET_MQ_SRC)
AUX_SOURCE_DIRECTORY("${SKYNET_ROOT_PATH}/skynet/timer" SKYNET_TIMER_SRC)
AUX_SOURCE_DIRECTORY("${SKYNET_ROOT_PATH}/skynet/socket" SKYNET_SOCKET_SRC)
AUX_SOURCE_DIRECTORY("${SKYNET_ROOT_PATH}/skynet/node" SKYNET_NODE_SRC)

# target
ADD_LIBRARY(skynet_o OBJECT
    ${SKYNET_SRC}
    ${SKYNET_LOG_SRC}
    ${SKYNET_UTILS_SRC}
    ${SKYNET_CTX_SRC}
    ${SKYNET_MOD_SRC}
    ${SKYNET_MQ_SRC}
    ${SKYNET_TIMER_SRC}
    ${SKYNET_SOCKET_SRC}
    ${SKYNET_NODE_SRC}
)
ADD_EXECUTABLE(skynet
    $<TARGET_OBJECTS:skynet_o>
)
TARGET_LINK_LIBRARIES(skynet liblua)
